{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_area_names.py::test_live_area_names_from_attribs", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:32Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_area_names.py::test_live_area_names_from_attribs", "record_type": "test_end", "t_ms": 10225, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_area_names_from_attribs(live_e27_client: Elke27Client) -> None:\n        configured = await live_e27_client.async_execute(\"area_get_configured\")\n        if not configured.ok:\n            if extract_error_code(configured.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for area_get_configured.\")\n            pytest.fail(f\"area_get_configured failed: {describe_error(configured.error)}\")\n>       assert_payload_shape(\"area_get_configured\", configured.data)\n\ntest/test_live_e27_area_names.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'area_get_configured'\npayload = {'areas': [1], 'block_count': 1, 'block_id': 1}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: area_get_configured: missing keys ['error_code'] in payload {'areas': [1], 'block_id': 1, 'block_count': 1}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_arm_stay_then_disarm.py::test_live_arm_stay_then_disarm", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_arm_stay_then_disarm.py::test_live_arm_stay_then_disarm", "record_type": "test_end", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "skip", "error": {"when": "call", "longrepr": "('/Users/mitchmitchell/Documents/elkm1/test/test_live_e27_arm_stay_then_disarm.py', 51, 'Skipped: Set ELKE27_INTERACTIVE=true to run arm/disarm tests.')"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_authenticate.py::test_live_control_authenticate", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_authenticate.py::test_live_control_authenticate", "record_type": "test_end", "t_ms": 10, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "pass", "error": null}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_on_ack", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_on_ack", "record_type": "test_end", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "skip", "error": {"when": "call", "longrepr": "('/Users/mitchmitchell/Documents/elkm1/test/test_live_e27_chime.py', 27, 'Skipped: Set ELKE27_INTERACTIVE=true to run chime tests.')"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_off_ack", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_off_ack", "record_type": "test_end", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "skip", "error": {"when": "call", "longrepr": "('/Users/mitchmitchell/Documents/elkm1/test/test_live_e27_chime.py', 27, 'Skipped: Set ELKE27_INTERACTIVE=true to run chime tests.')"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_on_persist", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_on_persist", "record_type": "test_end", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "skip", "error": {"when": "call", "longrepr": "('/Users/mitchmitchell/Documents/elkm1/test/test_live_e27_chime.py', 27, 'Skipped: Set ELKE27_INTERACTIVE=true to run chime tests.')"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_state_roundtrip", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_chime.py::test_live_area_chime_state_roundtrip", "record_type": "test_end", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "skip", "error": {"when": "call", "longrepr": "('/Users/mitchmitchell/Documents/elkm1/test/test_live_e27_chime.py', 27, 'Skipped: Set ELKE27_INTERACTIVE=true to run chime tests.')"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_keypads_download.py::test_live_keypads_download", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_keypads_download.py::test_live_keypads_download", "record_type": "test_end", "t_ms": 10, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_keypads_download(live_e27_client: Elke27Client) -> None:\n        configured = await live_e27_client.async_execute(\"keypad_get_configured\", timeout_s=_LIVE_TIMEOUT_S)\n        if not configured.ok:\n            if extract_error_code(configured.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for keypad_get_configured.\")\n>           pytest.fail(f\"keypad_get_configured failed: {describe_error(configured.error)}\")\nE           Failed: keypad_get_configured failed: keypad_get_configured failed with error_code=11003 (ELKERR_INVALID_TABLE)\n\ntest/test_live_e27_keypads_download.py:29: Failed"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_link.py::test_live_link_only", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_link.py::test_live_link_only", "record_type": "test_end", "t_ms": 57, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "pass", "error": null}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_output_names.py::test_live_output_names_from_attribs", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_output_names.py::test_live_output_names_from_attribs", "record_type": "test_end", "t_ms": 58, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_output_names_from_attribs(live_e27_client: Elke27Client) -> None:\n        configured = await live_e27_client.async_execute(\"output_get_configured\", timeout_s=_LIVE_TIMEOUT_S)\n        if not configured.ok:\n            if extract_error_code(configured.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for output_get_configured.\")\n            pytest.fail(f\"output_get_configured failed: {describe_error(configured.error)}\")\n>       assert_payload_shape(\"output_get_configured\", configured.data)\n\ntest/test_live_e27_output_names.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'output_get_configured'\npayload = {'block_count': 2, 'outputs': [1, 2, 3, 4, 5, 6, ...]}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: output_get_configured: missing keys ['block_id', 'error_code'] in payload {'outputs': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], 'block_count': 2}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_paged_readonly.py::test_live_paged_zone_get_configured", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_paged_readonly.py::test_live_paged_zone_get_configured", "record_type": "test_end", "t_ms": 118, "ts_utc": "2026-01-04T06:31:42Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_paged_zone_get_configured(live_e27_client: Elke27Client) -> None:\n        result = await live_e27_client.async_execute(\"zone_get_configured\", timeout_s=_LIVE_TIMEOUT_S)\n        if not result.ok:\n            if extract_error_code(result.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for zone_get_configured.\")\n            pytest.fail(f\"zone_get_configured failed: {describe_error(result.error)}\")\n>       assert_payload_shape(\"zone_get_configured\", result.data)\n\ntest/test_live_e27_paged_readonly.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'zone_get_configured'\npayload = {'block_count': 4, 'zones': [1, 2, 3, 4, 5, 6, ...]}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: zone_get_configured: missing keys ['block_id', 'error_code'] in payload {'zones': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], 'block_count': 4}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_rules_download.py::test_live_rules_download", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:42Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_rules_download.py::test_live_rules_download", "record_type": "test_end", "t_ms": 3793, "ts_utc": "2026-01-04T06:31:46Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_rules_download(live_e27_client: Elke27Client) -> None:\n        result = await live_e27_client.async_execute(\"rule_get_rules\", timeout_s=_LIVE_TIMEOUT_S)\n        if not result.ok:\n            if extract_error_code(result.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for rule_get_rules.\")\n            pytest.fail(f\"rule_get_rules failed: {describe_error(result.error)}\")\n>       assert_payload_shape(\"rule_get_rules\", result.data)\n\ntest/test_live_e27_rules_download.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'rule_get_rules'\npayload = {'block_count': 188, 'rules': [{'block_id': 1, 'data': '00000000000000000000000000000000000000000000000000000000000000...00000000000000000'}, {'block_id': 6, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, ...]}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: rule_get_rules: missing keys ['data', 'block_id', 'error_code'] in payload {'rules': [{'block_id': 1, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 2, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 3, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 4, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 5, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 6, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 7, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 8, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 9, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 10, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 11, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 12, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 13, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 14, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 15, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 16, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 17, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 18, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 19, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 20, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 21, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 22, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 23, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 24, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 25, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 26, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 27, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 28, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 29, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 30, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 31, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 32, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 33, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 34, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 35, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 36, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 37, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 38, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 39, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 40, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 41, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 42, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 43, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 44, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 45, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 46, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 47, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 48, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 49, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 50, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 51, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 52, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 53, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 54, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 55, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 56, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 57, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 58, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 59, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 60, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 61, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 62, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 63, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 64, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 65, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 66, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 67, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 68, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 69, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 70, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 71, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 72, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 73, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 74, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 75, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 76, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 77, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 78, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 79, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 80, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 81, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 82, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 83, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 84, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 85, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 86, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 87, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 88, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 89, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 90, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 91, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 92, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 93, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 94, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 95, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 96, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 97, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 98, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 99, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 100, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 101, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 102, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 103, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 104, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 105, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 106, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 107, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 108, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 109, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 110, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 111, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 112, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 113, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 114, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 115, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 116, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 117, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 118, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 119, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 120, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 121, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 122, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 123, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 124, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 125, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 126, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 127, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 128, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 129, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 130, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 131, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 132, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 133, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 134, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 135, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 136, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 137, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 138, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 139, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 140, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 141, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 142, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 143, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 144, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 145, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 146, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 147, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 148, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 149, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 150, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 151, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 152, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 153, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 154, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 155, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 156, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 157, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 158, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 159, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 160, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 161, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 162, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 163, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 164, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 165, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 166, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 167, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 168, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 169, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 170, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 171, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 172, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 173, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 174, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 175, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 176, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 177, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 178, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 179, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 180, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 181, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 182, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 183, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 184, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 185, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 186, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 187, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}, {'block_id': 188, 'data': '0000000000000000000000000000000000000000000000000000000000000000'}], 'block_count': 188}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_system_status.py::test_live_system_status_snapshot", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:46Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_system_status.py::test_live_system_status_snapshot", "record_type": "test_end", "t_ms": 16, "ts_utc": "2026-01-04T06:31:46Z", "outcome": "pass", "error": null}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_users_download.py::test_live_users_download", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:46Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_users_download.py::test_live_users_download", "record_type": "test_end", "t_ms": 49, "ts_utc": "2026-01-04T06:31:46Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_users_download(live_e27_client: Elke27Client) -> None:\n        log_level = str(os.environ.get(\"LOG_LEVEL\", \"INFO\") or \"INFO\").upper()\n        logging.basicConfig(level=getattr(logging, log_level, logging.INFO), force=True)\n        logging.getLogger(\"elke27_lib.session\").setLevel(logging.DEBUG)\n    \n        pin = _get_pin()\n        kernel = live_e27_client._kernel\n        original_on_message = kernel._on_message\n        enable_raw_log = log_level == \"DEBUG\"\n        if enable_raw_log:\n            def _log_on_message(msg):\n                LOG.debug(\"raw inbound msg=%r\", msg)\n                return original_on_message(msg)\n    \n            kernel._on_message = _log_on_message\n        try:\n            auth_result = await live_e27_client.async_execute(\"control_authenticate\", pin=pin)\n            LOG.debug(\n                \"control.authenticate result ok=%s data=%r error=%s\",\n                auth_result.ok,\n                auth_result.data,\n                auth_result.error,\n            )\n            if not auth_result.ok:\n                pytest.fail(f\"control.authenticate failed: {describe_error(auth_result.error)}\")\n            assert_payload_shape(\"control_authenticate\", auth_result.data)\n    \n            configured = await live_e27_client.async_execute(\"user_get_configured\", timeout_s=_LIVE_TIMEOUT_S)\n            if not configured.ok:\n                if extract_error_code(configured.error) == E27ErrorCode.ELKERR_NOT_READY:\n                    pytest.skip(\"Panel reported not-ready for user_get_configured.\")\n                pytest.fail(f\"user_get_configured failed: {describe_error(configured.error)}\")\n>           assert_payload_shape(\"user_get_configured\", configured.data)\n\ntest/test_live_e27_users_download.py:72: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'user_get_configured'\npayload = {'block_count': 1, 'users': [2, 3, 4, 5]}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: user_get_configured: missing keys ['block_id', 'error_code'] in payload {'users': [2, 3, 4, 5], 'block_count': 1}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_zone_names.py::test_live_zone_names_from_configured", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:46Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_zone_names.py::test_live_zone_names_from_configured", "record_type": "test_end", "t_ms": 79, "ts_utc": "2026-01-04T06:31:46Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_zone_names_from_configured(live_e27_client: Elke27Client) -> None:\n        configured = await live_e27_client.async_execute(\"zone_get_configured\", timeout_s=_LIVE_TIMEOUT_S)\n        if not configured.ok:\n            if extract_error_code(configured.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for zone_get_configured.\")\n            pytest.fail(f\"zone_get_configured failed: {describe_error(configured.error)}\")\n>       assert_payload_shape(\"zone_get_configured\", configured.data)\n\ntest/test_live_e27_zone_names.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'zone_get_configured'\npayload = {'block_count': 4, 'zones': [1, 2, 3, 4, 5, 6, ...]}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: zone_get_configured: missing keys ['block_id', 'error_code'] in payload {'zones': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], 'block_count': 4}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_zone_status_flags.py::test_live_zone_status_flags", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-04T06:31:46Z", "meta": {"pid": 70773}}
{"run_id": "a185eb8f624544df91cd2cf966b41558", "test_id": "test/test_live_e27_zone_status_flags.py::test_live_zone_status_flags", "record_type": "test_end", "t_ms": 12, "ts_utc": "2026-01-04T06:31:46Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x10c6c9a90>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_zone_status_flags(live_e27_client: Elke27Client) -> None:\n        zone_id = _env_zone_id()\n        result = await live_e27_client.async_execute(\"zone_get_status\", zone_id=zone_id, timeout_s=_LIVE_TIMEOUT_S)\n        if not result.ok:\n            if extract_error_code(result.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(\"Panel reported not-ready for zone_get_status.\")\n            pytest.fail(f\"zone_get_status failed: {describe_error(result.error)}\")\n>       assert_payload_shape(\"zone_get_status\", result.data)\n\ntest/test_live_e27_zone_status_flags.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncommand_key = 'zone_get_status'\npayload = {'BYPASSED': False, 'bs': 3, 'contact_state': 'CLOSED', 'error_code': 0, ...}\n\n    def assert_payload_shape(command_key: str, payload: Mapping[str, object] | None) -> None:\n        if payload is None:\n            raise AssertionError(f\"{command_key}: missing payload\")\n        if not isinstance(payload, Mapping):\n            raise AssertionError(f\"{command_key}: payload must be a mapping (got {type(payload).__name__})\")\n    \n        required = _REQUIRED_KEYS.get(command_key)\n        if required is None:\n            raise AssertionError(f\"{command_key}: no payload shape registered\")\n    \n        target = _select_payload(command_key, payload)\n        missing = [key for key in required if key not in target]\n        if missing:\n>           raise AssertionError(f\"{command_key}: missing keys {missing} in payload {target!r}\")\nE           AssertionError: zone_get_status: missing keys ['rssi', 'low_batt'] in payload {'zone_id': 1, 'BYPASSED': False, 'contact_state': 'CLOSED', 'secure_state': 'NORMAL', 'voltage': '0.10', 'bs': 3, 'error_code': 0}\n\ntest/helpers/payload_validation.py:190: AssertionError"}}
