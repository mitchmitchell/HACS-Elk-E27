{"run_id": "731bb747f7154caaabd23dabe2bd2834", "test_id": "test/test_live_e27_log.py::test_live_log_domain", "record_type": "test_start", "t_ms": 0, "ts_utc": "2026-01-18T06:12:06Z", "meta": {"pid": 31107}}
{"run_id": "731bb747f7154caaabd23dabe2bd2834", "test_id": "test/test_live_e27_log.py::test_live_log_domain", "record_type": "test_end", "t_ms": 22437, "ts_utc": "2026-01-18T06:12:28Z", "outcome": "fail", "error": {"when": "call", "longrepr": "live_e27_client = <elke27_lib.client.Elke27Client object at 0x1089eb860>\n\n    @pytest.mark.live_e27\n    @pytest.mark.asyncio\n    async def test_live_log_domain(live_e27_client: Elke27Client) -> None:\n>       index_payload = await _execute_or_wait_log_state(\n            live_e27_client,\n            \"log_get_index\",\n            \"get_index\",\n            timeout_s=_LIVE_TIMEOUT_S,\n        )\n\ntest/test_live_e27_log.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nclient = <elke27_lib.client.Elke27Client object at 0x1089eb860>\ncommand_key = 'log_get_index', state_key = 'get_index', timeout_s = 15.0\nparams = {}\nresult = Result(ok=False, data=None, error=ProtocolError('log_get_index missing response payload for log.get_index'))\nerror_text = 'log_get_index missing response payload for log.get_index'\nmissing_payload = True, deadline = 958030.823263958, payload = None\n\n    async def _execute_or_wait_log_state(\n        client: Elke27Client,\n        command_key: str,\n        state_key: str,\n        *,\n        timeout_s: float,\n        **params: object,\n    ) -> dict:\n        result = await client.async_execute(command_key, timeout_s=timeout_s, **params)\n        if result.ok and isinstance(result.data, dict):\n            return dict(result.data)\n    \n        error_text = describe_error(result.error)\n        missing_payload = \"missing response payload\" in error_text\n        if not missing_payload:\n            if extract_error_code(result.error) == E27ErrorCode.ELKERR_NOT_READY:\n                pytest.skip(f\"Panel reported not-ready for {command_key}.\")\n            pytest.fail(f\"{command_key} failed: {error_text}\")\n    \n        deadline = time.monotonic() + timeout_s\n        while time.monotonic() < deadline:\n            payload = client._kernel.state.log_status.get(state_key)\n            if isinstance(payload, dict):\n                return dict(payload)\n            await asyncio.sleep(0.1)\n    \n>       pytest.fail(f\"{command_key} missing response payload and no broadcast state for {state_key}.\")\nE       Failed: log_get_index missing response payload and no broadcast state for get_index.\n\ntest/test_live_e27_log.py:50: Failed"}}
